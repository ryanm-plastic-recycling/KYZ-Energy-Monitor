:root {
  --radius: 16px;
  --radius-lg: 22px;
  --space-1: 6px;
  --space-2: 10px;
  --space-3: 14px;
  --space-4: 18px;
  --space-5: 22px;
}

html[data-theme='dark'] {
  --bg: #070c14;
  --surface: #0c1526;
  --surface2: #0f1c33;
  --border: rgba(200, 215, 235, 0.14);
  --text: #eaf2ff;
  --muted: #a7b5c9;
  --brand: rgb(37,64,143);
  --brand2: rgb(37,64,143);
  --good: #3ecf8e;
  --warn: #f6b01e;
  --bad: #ff5a5f;
  --shadow: 0 18px 36px rgba(0, 0, 0, 0.42);
  --chart1: rgb(37,64,143);
  --chart2: #3ecf8e;
  --chart3: #88a6ff;
  --chart4: #f6b01e;
  --bg-gradient:
    radial-gradient(900px 520px at 10% 0%, rgba(0, 163, 255, 0.17), transparent 55%),
    radial-gradient(800px 480px at 85% 0%, rgba(62, 207, 142, 0.11), transparent 50%),
    linear-gradient(180deg, #070c14, #04070d 60%, #03060c);
}

html[data-theme='light'] {
  --bg: #edf3fa;
  --surface: #ffffff;
  --surface2: #f6f9fe;
  --border: rgba(35, 71, 104, 0.18);
  --text: #0f2237;
  --muted: #4a617c;
  --brand: #234768;
  --brand2: #3a5f87;
  --good: #1f8f5a;
  --warn: #b77700;
  --bad: #c73f45;
  --shadow: 0 10px 26px rgba(22, 44, 66, 0.14);
  --chart1: #2369d8;
  --chart2: #1f8f5a;
  --chart3: #3a5f87;
  --chart4: #b77700;
  --bg-gradient:
    radial-gradient(760px 420px at 12% 0%, rgba(35, 71, 104, 0.14), transparent 55%),
    radial-gradient(700px 420px at 90% 0%, rgba(58, 95, 135, 0.11), transparent 54%),
    linear-gradient(180deg, #eff4fb, #e8eef7 60%, #e1e9f4);
}

* { box-sizing: border-box; }
body {
  margin: 0;
  min-height: 100vh;
  font-family: Inter, 'Segoe UI', Roboto, Arial, sans-serif;
  color: var(--text);
  background: var(--bg-gradient);
}

.page, .kiosk {
  min-height: 100vh;
  padding: 0 var(--space-4) var(--space-4);
}

.header {
  margin-bottom: var(--space-3);
  background: linear-gradient(135deg, color-mix(in srgb, var(--surface2) 90%, var(--brand) 10%), color-mix(in srgb, var(--surface) 90%, var(--brand2) 10%));
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
  padding: var(--space-3) var(--space-4);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 24px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(8px);
}

.headerLeft {
  display: flex;
  align-items: center;
  gap: 18px;
}

.headerRight {
  display: flex;
  align-items: center;
  gap: 18px;
}

.headerTitleBlock { min-width: 0; }
.header h1 { margin: 0; font-size: 1.22rem; font-weight: 760; }

.priLogoImg {
  height: 72px;
  width: auto;
  object-fit: contain;
  padding: 6px 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
}

.innovLogoImg {
  height: 64px;
  width: auto;
  object-fit: contain;
  padding: 6px 10px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  opacity: 0.95;
}

.topnav {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.topnav a {
  text-decoration: none;
  color: var(--text);
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 82%, transparent);
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 0.84rem;
  font-weight: 700;
}

.topnav a.active {
  background: linear-gradient(135deg, var(--brand), var(--brand2));
  color: #f5faff;
  border-color: transparent;
}

.pills { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: flex-end; }
.pill {
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 6px 10px;
  background: color-mix(in srgb, var(--surface2) 85%, transparent);
  font-size: 0.77rem;
  font-weight: 760;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.dot { width: 8px; height: 8px; border-radius: 999px; }
.dot.good { background: var(--good); }
.dot.warn { background: var(--warn); }
.dot.bad { background: var(--bad); }
.pill.good { color: var(--good); }
.pill.warn { color: var(--warn); }
.pill.bad { color: var(--bad); }
.theme-toggle { border-radius: 999px; border: 1px solid var(--border); background: var(--surface); color: var(--text); padding: 6px 12px; font-weight: 700; }

.grid { display: grid; gap: var(--space-3); }
.kpis { grid-template-columns: repeat(12, minmax(0, 1fr)); }
.kpi-card { grid-column: span 3; }
.kiosk-kpis .kpi-card { grid-column: span 3; }
.charts { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.full { grid-column: 1 / -1; }

.card {
  background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 90%, transparent), color-mix(in srgb, var(--surface2) 94%, transparent));
  border-radius: var(--radius);
  padding: var(--space-3);
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  backdrop-filter: blur(6px);
}
.card h3 { margin: 0 0 8px; font-size: 0.84rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.02em; }
.card p { margin: 0; font-size: 1.52rem; font-weight: 760; }
.chart-card p { font-size: 0.9rem; }
.muted { color: var(--muted); font-size: 0.84rem; }
.btn-group { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
button, input { font: inherit; }
button { border: 1px solid var(--border); background: var(--surface2); color: var(--text); border-radius: 10px; padding: 8px 10px; }
button:disabled { opacity: 0.6; }

.data-explorer-layout { display: grid; grid-template-columns: 280px minmax(0, 1fr); gap: var(--space-3); }
.filter-rail { display: flex; flex-direction: column; gap: var(--space-2); }
.filter-rail label { font-size: 0.82rem; color: var(--muted); font-weight: 700; }
.filter-rail input[type='datetime-local'] { border: 1px solid var(--border); border-radius: 10px; padding: 8px; background: var(--surface); color: var(--text); }
.checkbox-row { display: flex; gap: 8px; align-items: center; }
.range-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.range-buttons button.active { background: linear-gradient(135deg, var(--brand), var(--brand2)); color: #fff; border-color: transparent; }
.data-results { display: grid; grid-template-rows: minmax(320px, 1fr) auto; gap: var(--space-3); }
.table-shell { overflow: auto; border: 1px solid var(--border); border-radius: 12px; background: var(--surface2); max-height: 440px; }
table { width: 100%; border-collapse: collapse; font-size: 0.84rem; }
thead th { position: sticky; top: 0; background: var(--surface); text-align: left; padding: 10px; border-bottom: 1px solid var(--border); }
tbody td { padding: 9px 10px; border-bottom: 1px solid var(--border); }
tbody tr:hover { background: color-mix(in srgb, var(--surface2) 65%, var(--brand) 8%); cursor: pointer; }
tbody tr.selected { background: color-mix(in srgb, var(--surface2) 55%, var(--brand) 14%); }
.chip-row { display: flex; flex-wrap: wrap; gap: 6px; }
.row-preview { border-top: 1px solid var(--border); padding-top: var(--space-2); }
.preview-grid { display: grid; gap: 6px; font-size: 0.88rem; }
.error-banner { padding: 8px 10px; background: color-mix(in srgb, var(--bad) 12%, var(--surface)); color: var(--bad); border-bottom: 1px solid var(--border); }

@media (max-width: 1100px) {
  .priLogoImg { height: 60px; }
  .innovLogoImg { height: 52px; }
}

@media (max-width: 700px) {
  .priLogoImg { height: 48px; }
  .innovLogoImg { height: 40px; }
}

@media (max-width: 1200px) {
  .kpi-card { grid-column: span 4; }
}
@media (max-width: 900px) {
  .header { flex-direction: column; align-items: flex-start; }
  .headerLeft, .headerRight { width: 100%; }
  .headerRight { justify-content: flex-start; }
  .pills { justify-content: flex-start; }
  .kpi-card { grid-column: span 6; }
  .charts { grid-template-columns: 1fr; }
  .data-explorer-layout { grid-template-columns: 1fr; }
}
@media (max-width: 600px) {
  .page, .kiosk { padding: 0 12px 14px; }
  .kpi-card, .kiosk-kpis .kpi-card { grid-column: span 12; }
}

.kpi-meta {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  align-items: center;
  color: var(--muted);
  font-size: 0.82rem;
  font-weight: 650;
}

.kpi-pill {
  font-size: 0.76rem;
  padding: 3px 9px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface2) 85%, transparent);
  font-weight: 800;
  letter-spacing: 0.01em;
}

.kpi-pill.neutral {
  color: var(--text);
  border-color: color-mix(in srgb, var(--border) 85%, var(--text) 15%);
}

.kpi-pill.good {
  color: var(--good);
  border-color: color-mix(in srgb, var(--good) 45%, var(--border));
  background: color-mix(in srgb, var(--good) 14%, var(--surface2));
}

.kpi-pill.warn {
  color: var(--warn);
  border-color: color-mix(in srgb, var(--warn) 45%, var(--border));
  background: color-mix(in srgb, var(--warn) 14%, var(--surface2));
}

.kpi-pill.bad {
  color: var(--bad);
  border-color: color-mix(in srgb, var(--bad) 45%, var(--border));
  background: color-mix(in srgb, var(--bad) 14%, var(--surface2));
}
